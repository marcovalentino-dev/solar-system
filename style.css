$year-in-second: 30; // 1 Earth year = 30 sec

@function revolution($pl-year-in-days) {
  @return $pl-year-in-days * $year-in-second / 365.2563 + s;
}
@function alphaRandom() {
  @return random(1000) * 0.001;
}
@function stars($s, $max-area, $min-area: 0, $star-size: 0) {
  $stars: #{$min-area + random($max-area)}vw #{$min-area + random($max-area)}vh 0 #{$star-size}vw rgba(255,255,255, alphaRandom());
  @for $i from 1 to $s {
    $stars: "#{$stars} , #{$min-area + random($max-area)}vw #{$min-area + random($max-area)}vh 0 #{$star-size}vw rgba(255,255,255, #{alphaRandom()})";
  }
  @return unquote($stars);
}

// Dimensioni relative
$sun: 3vw;
$mercury-orb: 5vw; $mercury-pl: 0.4vw;
$venus-orb: 7vw; $venus-pl: 0.8vw;
$earth-orb: 10vw; $earth-pl: 0.6vw;
$mars-orb: 13vw; $mars-pl: 0.6vw;
$jupiter-orb: 24vw; $jupiter-pl: 1.8vw;
$saturn-orb: 31vw; $saturn-pl: 1.2vw;
$uranus-orb: 37vw; $uranus-pl: 1vw;
$neptune-orb: 45vw; $neptune-pl: 1vw;
$pluto-orb: 55vw; $pluto-pl: 0.3vw;
$asteroids-belt-orb: 21vw; $asteroids-belt-pl: 20vw;

*,
*:before,
*:after {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  width: 100%;
}

body {
  font: normal 1em/1.45em "Helvetica Neue", Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  color: #fff;
  background: radial-gradient(ellipse at bottom, #1c2837 0%, #050608 100%);
  background-attachment: fixed;
}

.solar-syst {
  position: relative;
  width: 100%;
  height: 100vh;
  margin: 0 auto;
  &:after {
    content: "";
    position: absolute;
    height: 2px;
    width: 2px;
    top: -2px;
    background: white;
    box-shadow: stars(500, 1800);
    border-radius: 100px;
  }
  div {
    position: absolute;
    top: 50%;
    left: 50%;
    border-radius: 1000px;
    z-index: 999;
    &:not(.sun) {
      border: 1px solid rgba(102, 166, 229, 0.12);
      &:before {
        left: 50%;
        border-radius: 100px;
        content: "";
        position: absolute;
      }
    }
    &:not(.asteroids-belt) {
      &:before {
        box-shadow: inset 0 0.6vw 0 -0.2vw rgba(0,0,0,0.25);
      }
    }
  }
}

.sun {
  background: radial-gradient(
    ellipse at center,
    #ffd000 1%,
    #f9b700 39%,
    #f9b700 39%,
    #e06317 100%
  );
  height: $sun;
  width: $sun;
  margin-top: calc(-#{$sun}/2);
  margin-left: calc(-#{$sun}/2);
  border: 0 !important;
  box-shadow: 0 0 1vw 0.2vw rgba(255,107,0,0.4),
              0 0 2.2vw 1.1vw rgba(255,203,0,0.13);
}

.mercury { @include planet($mercury-orb, $mercury-pl, #9f5e26, 87.5); }
.venus { @include planet($venus-orb, $venus-pl, #beb768, 224.7); }
.earth { 
  @include planet($earth-orb, $earth-pl, #11abe9, 365.2563); 
  &:after {
    position: absolute;
    content: "";
    height: 1.8vw;
    width: 1.8vw;
    left: 50%;
    top: 0;
    margin-left: -0.9vw;
    margin-top: -0.9vw;
    border-radius: 50%;
    box-shadow: 0 -1vw 0 -0.8vw grey;
    animation: orb revolution(27.3216) linear infinite;
  }
}
.mars { @include planet($mars-orb, $mars-pl, #cf3921, 687); }
.jupiter { @include planet($jupiter-orb, $jupiter-pl, #c76e2a, 4331); }
.saturn { 
  @include planet($saturn-orb, $saturn-pl, #e7c194, 10747); 
  &:after {
    position: absolute;
    content: "";
    height: 2.34%;
    width: 4.676%;
    left: 50%;
    top: 0;
    transform: rotateZ(-52deg);
    margin-left: -2.3%;
    margin-top: -1.2%;
    border-radius: 50%;
    box-shadow: 0 0.1vw 0 0.1vw #987641, 0.3vw 0.1vw 0 #987641, -0.3vw 0.1vw 0 #987641;
    animation: orb revolution(10747) linear infinite reverse;
    transform-origin: 52% 60%;
  }
}
.uranus { @include planet($uranus-orb, $uranus-pl, #b5e3e3, 30589); }
.neptune { @include planet($neptune-orb, $neptune-pl, #175e9e, 59802); }
.pluto { @include planet($pluto-orb, $pluto-pl, #fff, 90580); }

.asteroids-belt {
  opacity: 0.7;
  border-color: transparent !important;
  height: $asteroids-belt-orb;
  width: $asteroids-belt-orb;
  margin-top: calc(-#{$asteroids-belt-orb}/2);
  margin-left: calc(-#{$asteroids-belt-orb}/2);
  animation: orb revolution(2191) linear infinite;
  overflow: hidden;
  &:before {
    top: 50%;
    height: $asteroids-belt-pl;
    width: $asteroids-belt-pl;
    margin-left: calc(-#{$asteroids-belt-pl}/2);
    margin-top: calc(-#{$asteroids-belt-pl}/2);
    background: transparent;
    border-radius: 140px !important;
    box-shadow: stars(390, 290, -290/2, -104);
  }
}

@keyframes orb {
  from { transform: rotate(0deg); }
  to { transform: rotate(-360deg); }
}

// Media queries per schermi piccoli
@media screen and (max-width: 768px) {
  $sun: 5vw;
  $earth-orb: 20vw;
  $jupiter-orb: 40vw;
  $pluto-orb: 70vw;

  .description {
    width: 90%;
    position: relative;
    padding: 15px;
  }
}
